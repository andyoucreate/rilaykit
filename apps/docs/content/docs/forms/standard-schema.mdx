---
title: Standard Schema Integration
description: Learn how RilayKit's universal validation system works with any Standard Schema compatible library.
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Tab, Tabs } from 'fumadocs-ui/components/tabs';

RilayKit is built on [Standard Schema](https://standardschema.dev), a universal interface for TypeScript validation libraries. This means you can use **any** Standard Schema compatible validation library directly, without adapters or custom integration code.

## What is Standard Schema?

Standard Schema is a specification designed by the creators of **Zod**, **Valibot**, and **ArkType**. It provides a common interface that validation libraries can implement, allowing tools like RilayKit to accept user-defined validators without needing custom adapters.

<Callout type="info">
**Key Benefits**: Use any validation library directly â€¢ No adapters needed â€¢ Mix and match libraries â€¢ Future-proof architecture
</Callout>

## Compatible Libraries

These validation libraries already implement Standard Schema and work seamlessly with RilayKit:

| Library | Version | Import | Example |
|---------|---------|--------|---------|
| **Zod** | 3.24.0+ | `import { z } from 'zod'` | `z.string().email()` |
| **Yup** | 1.7.0+ | `import * as yup from 'yup'` | `yup.string().email().required()` |
| **Joi** | 18.0.0+ | `import Joi from 'joi'` | `Joi.string().email().required()` |
| **Valibot** | 1.0+ | `import * as v from 'valibot'` | `v.pipe(v.string(), v.email())` |
| **ArkType** | 2.0+ | `import { type } from 'arktype'` | `type('string.email')` |

## Usage Examples

### Single Validation Library

<Tabs items={['Zod', 'Yup', 'Joi', 'RilayKit Built-ins']}>
  <Tab value="Zod">
    ```tsx
    import { z } from 'zod';
    import { rilay } from '@/lib/rilay';

    const registrationForm = rilay
      .form('registration')
      .add({
        id: 'email',
        type: 'input',
        props: { label: 'Email' },
        validation: {
          validate: z.string()
            .email('Please enter a valid email')
            .min(5, 'Email too short'),
          validateOnBlur: true,
        },
      })
      .add({
        id: 'password',
        type: 'password',
        props: { label: 'Password' },
        validation: {
          validate: z.string()
            .min(8, 'Password must be at least 8 characters')
            .regex(/^(?=.*[A-Za-z])(?=.*\d)/, 'Password must contain letters and numbers'),
          validateOnChange: true,
        },
      });
    ```
  </Tab>
  <Tab value="Yup">
    ```tsx
    import * as yup from 'yup';
    import { rilay } from '@/lib/rilay';

    const registrationForm = rilay
      .form('registration')
      .add({
        id: 'email',
        type: 'input',
        props: { label: 'Email' },
        validation: {
          validate: yup.string()
            .email('Please enter a valid email')
            .min(5, 'Email too short')
            .required('Email is required'),
          validateOnBlur: true,
        },
      })
      .add({
        id: 'age',
        type: 'input',
        props: { label: 'Age' },
        validation: {
          validate: yup.number()
            .positive('Age must be positive')
            .integer('Age must be a whole number')
            .min(13, 'Must be at least 13 years old')
            .required('Age is required'),
        },
      });
    ```
  </Tab>
  <Tab value="Joi">
    ```tsx
    import Joi from 'joi';
    import { rilay } from '@/lib/rilay';

    const registrationForm = rilay
      .form('registration')
      .add({
        id: 'email',
        type: 'input',
        props: { label: 'Email' },
        validation: {
          validate: Joi.string()
            .email({ tlds: { allow: false } })
            .min(5)
            .required()
            .messages({
              'string.email': 'Please enter a valid email',
              'string.min': 'Email too short',
              'any.required': 'Email is required',
            }),
          validateOnBlur: true,
        },
      });
    ```
  </Tab>
  <Tab value="RilayKit Built-ins">
    ```tsx
    import { rilay } from '@/lib/rilay';
    import { required, email, minLength, pattern } from '@rilaykit/core';

    const registrationForm = rilay
      .form('registration')
      .add({
        id: 'email',
        type: 'input',
        props: { label: 'Email' },
        validation: {
          validate: [
            required('Email is required'),
            email('Please enter a valid email'),
            minLength(5, 'Email too short'),
          ],
          validateOnBlur: true,
        },
      })
      .add({
        id: 'password',
        type: 'password',
        props: { label: 'Password' },
        validation: {
          validate: [
            required('Password is required'),
            minLength(8, 'Password too short'),
            pattern(/^(?=.*[A-Za-z])(?=.*\d)/, 'Must contain letters and numbers'),
          ],
          validateOnChange: true,
        },
      });
    ```
  </Tab>
</Tabs>

### Mixed Validation Libraries

One of Standard Schema's biggest advantages is that you can **mix and match** validation libraries in the same form:

```tsx
import { z } from 'zod';
import * as yup from 'yup';
import { required, email } from '@rilaykit/core';

const mixedValidationForm = rilay
  .form('mixed')
  .add({
    id: 'email',
    type: 'input',
    props: { label: 'Email' },
    validation: {
      validate: [
        required('Email is required'),          // RilayKit built-in
        z.string().email('Invalid format'),     // Zod
        yup.string().max(100, 'Too long'),      // Yup
      ],
      validateOnBlur: true,
    },
  })
  .add({
    id: 'username',
    type: 'input',
    props: { label: 'Username' },
    validation: {
      validate: z.string()
        .min(3, 'Username too short')
        .max(20, 'Username too long')
        .regex(/^[a-zA-Z0-9_]+$/, 'Only letters, numbers, and underscores'),
    },
  });
```

## Form-Level Validation

Use object schemas for cross-field validation:

<Tabs items={['Zod Object Schema', 'Yup Object Schema']}>
  <Tab value="Zod Object Schema">
    ```tsx
    import { z } from 'zod';

    const userRegistrationSchema = z.object({
      email: z.string().email('Invalid email'),
      password: z.string().min(8, 'Password too short'),
      confirmPassword: z.string(),
      terms: z.boolean(),
    }).refine(data => data.password === data.confirmPassword, {
      message: "Passwords don't match",
      path: ['confirmPassword'],
    }).refine(data => data.terms === true, {
      message: 'You must accept the terms',
      path: ['terms'],
    });

    const registrationForm = rilay
      .form('registration')
      .add({ id: 'email', type: 'input', props: { label: 'Email' } })
      .add({ id: 'password', type: 'password', props: { label: 'Password' } })
      .add({ id: 'confirmPassword', type: 'password', props: { label: 'Confirm Password' } })
      .add({ id: 'terms', type: 'checkbox', props: { label: 'Accept Terms' } })
      .setValidation({
        validate: userRegistrationSchema,
      });
    ```
  </Tab>
  <Tab value="Yup Object Schema">
    ```tsx
    import * as yup from 'yup';

    const userRegistrationSchema = yup.object({
      email: yup.string().email('Invalid email').required('Email is required'),
      password: yup.string().min(8, 'Password too short').required('Password is required'),
      confirmPassword: yup.string()
        .oneOf([yup.ref('password')], 'Passwords must match')
        .required('Please confirm your password'),
      terms: yup.boolean()
        .isTrue('You must accept the terms')
        .required('You must accept the terms'),
    });

    const registrationForm = rilay
      .form('registration')
      .add({ id: 'email', type: 'input', props: { label: 'Email' } })
      .add({ id: 'password', type: 'password', props: { label: 'Password' } })
      .add({ id: 'confirmPassword', type: 'password', props: { label: 'Confirm Password' } })
      .add({ id: 'terms', type: 'checkbox', props: { label: 'Accept Terms' } })
      .setValidation({
        validate: userRegistrationSchema,
      });
    ```
  </Tab>
</Tabs>

## Async Validation

Standard Schema supports asynchronous validation natively:

```tsx
import { z } from 'zod';

const uniqueEmailSchema = z.string()
  .email('Invalid email format')
  .refine(async (email) => {
    // API call to check uniqueness
    const response = await fetch(`/api/check-email?email=${email}`);
    const { isUnique } = await response.json();
    return isUnique;
  }, 'Email is already taken');

const form = rilay
  .form('signup')
  .add({
    id: 'email',
    type: 'input',
    props: { label: 'Email' },
    validation: {
      validate: uniqueEmailSchema,
      validateOnBlur: true,
      debounceMs: 500, // Debounce async validation
    },
  });
```

## Migration from validation-adapters

If you were using the old `@rilaykit/validation-adapters` package, migration is simple:

### Before (with adapters)
```tsx
import { createZodValidator } from '@rilaykit/validation-adapters';
import { z } from 'zod';

const emailValidator = createZodValidator(z.string().email());

const form = rilay.form('user')
  .add({
    id: 'email',
    type: 'input',
    validation: {
      validators: [emailValidator], // Old way
    },
  });
```

### After (Standard Schema)
```tsx
import { z } from 'zod';

const form = rilay.form('user')
  .add({
    id: 'email',
    type: 'input',
    validation: {
      validate: z.string().email(), // Direct usage!
    },
  });
```

<Callout type="warning">
The `@rilaykit/validation-adapters` package has been removed. Use validation libraries directly with the `validate` property instead.
</Callout>

## Why Standard Schema?

1. **ðŸŽ¯ Unified API**: One `validate` property for all validation needs
2. **ðŸ”— Universal Compatibility**: Works with any Standard Schema library
3. **âš¡ Better Performance**: No adapter overhead
4. **ðŸ§© Composability**: Mix different validation libraries
5. **ðŸ”® Future-Proof**: Aligned with ecosystem standards
6. **ðŸ’¡ Better DX**: No choosing between `validators` vs `schema`

Learn more about Standard Schema at [standardschema.dev](https://standardschema.dev).
