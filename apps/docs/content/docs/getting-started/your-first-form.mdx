---
title: Your First Form
description: A step-by-step guide to creating a complete, working form.
---
import { Step, Steps } from 'fumadocs-ui/components/steps';
import { Callout } from 'fumadocs-ui/components/callout';

This guide will walk you through creating a simple contact form from start to finish.

<Steps>

<Step>
### 1. Create and Configure a `ril` Instance

The first step is to create a central instance of `ril`. This instance will hold your entire form configuration, including all your custom components and renderers.

<Callout type="warning" title="Renderers are Mandatory">
Rilaykit is headless, which means you must provide your own layout components (renderers) for elements like rows, form bodies, and buttons.
</Callout>

Let's define the components and renderers, then create and configure the `ril` instance.

```tsx title="lib/rilay.ts"
import { ril, type ComponentRenderProps, type ComponentRenderer } from '@rilaykit/core';
import type React from 'react';

// Define component prop interfaces
interface TextInputProps {
  label: string;
  placeholder?: string;
  required?: boolean;
}

interface EmailInputProps {
  label: string;
  placeholder?: string;
  required?: boolean;
}

// Define component renderers
const TextInput: ComponentRenderer<TextInputProps> = (
  props: ComponentRenderProps<TextInputProps>
) => (
  <div>
    <label htmlFor={props.id}>
      {props.props.label}
      {props.props.required && <span style={{ color: 'red' }}>*</span>}
    </label>
    <input
      id={props.id}
      type="text"
      placeholder={props.props.placeholder}
      value={props.value || ''}
      onChange={(e) => props.onChange?.(e.target.value)}
      onBlur={props.onBlur}
    />
    {props.error && <p style={{ color: 'red' }}>{props.error[0].message}</p>}
  </div>
);

const EmailInput: ComponentRenderer<EmailInputProps> = (
  props: ComponentRenderProps<EmailInputProps>
) => (
  <div>
    <label htmlFor={props.id}>
      {props.props.label}
      {props.props.required && <span style={{ color: 'red' }}>*</span>}
    </label>
    <input
      id={props.id}
      type="email"
      placeholder={props.props.placeholder}
      value={props.value || ''}
      onChange={(e) => props.onChange?.(e.target.value)}
      onBlur={props.onBlur}
    />
    {props.error && <p style={{ color: 'red' }}>{props.error[0].message}</p>}
  </div>
);

// Create and export the configured ril instance
export const rilay = ril
  .create()
  .addComponent('text', {
    name: 'Text Input',
    renderer: TextInput,
    defaultProps: { label: 'Text Field', placeholder: 'Enter text...' },
  })
  .addComponent('email', {
    name: 'Email Input',
    renderer: EmailInput,
    defaultProps: { label: 'Email Field', placeholder: 'Enter email...' },
  });
```
</Step>

<Step>
### 2. Build the Form Configuration

Now, use the `rilay` instance you created to build a form. You call `.form()` on your instance, which gives you a form builder that is aware of all your registered components and renderers.

```tsx title="components/ContactForm.ts"
import { required, email, minLength, when } from '@rilaykit/core';
import { rilay } from '@/lib/rilay'; // Import your configured instance

// Build the form configuration from the rilay instance
export const contactForm = rilay
  .form('contact-us') // Pass a unique ID for the form
  .add({
    id: 'name',
    type: 'text',
    props: { 
      label: 'Full Name',
      placeholder: 'Enter your full name',
      required: true 
    },
    validation: {
      validators: [required(), minLength(2, 'Name must be at least 2 characters')],
      validateOnBlur: true
    }
  })
  .add({
    id: 'email',
    type: 'email',
    props: { 
      label: 'Email Address',
      placeholder: 'Enter your email',
      required: true 
    },
    validation: {
      validators: [required(), email('Please enter a valid email')],
      validateOnBlur: true
    }
  })
  .add({
    id: 'message',
    type: 'text',
    props: { 
      label: 'Your Message',
      placeholder: 'Enter your message...',
      required: true 
    },
    validation: {
      validators: [required(), minLength(10, 'Message must be at least 10 characters')],
      validateOnChange: true
    },
    conditions: {
      visible: when('email').isNotEmpty()
    }
  });
```
</Step>

<Step>
### 3. Render the Form

Finally, use the `<Form>` component from `@rilaykit/forms` to render your form. You can pass the form builder instance directly to itâ€”it will be built automatically.

```tsx title="components/ContactForm.tsx"
import { Form, FormField } from '@rilaykit/forms';
import { contactForm } from './ContactForm';

export function ContactForm() {
  const handleSubmit = (data: { name: string; email: string; message: string }) => {
    alert(`Thank you, ${data.name}! Your message has been sent.`);
    console.log(data);
  };

  return (
    <div>
      <h2>Contact Us</h2>
      <Form
        formConfig={contactForm}
        onSubmit={handleSubmit}
        defaultValues={{ name: '', email: '', message: '' }}
      >
        <FormField fieldId="name" />
        <FormField fieldId="email" />
        <FormField fieldId="message" />
        
        <button type="submit">Send Message</button>
      </Form>
    </div>
  );
}
```
</Step>

</Steps>

You now have a fully working, validated form! You can display the `<ContactForm />` component anywhere in your application. 