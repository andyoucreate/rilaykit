---
title: Your First Form
description: A step-by-step guide to creating a complete, working form.
---
import { Step, Steps } from 'fumadocs-ui/components/steps';
import { Callout } from 'fumadocs-ui/components/callout';

This guide will walk you through creating a simple contact form from start to finish.

<Steps>

<Step>
### 1. Create and Configure a `ril` Instance

The first step is to create a central instance of `ril`. This instance will hold your entire form configuration, including all your custom components and renderers.

<Callout type="warning" title="Renderers are Mandatory">
Rilaykit is headless, which means you must provide your own layout components (renderers) for elements like rows, form bodies, and buttons.
</Callout>

Let's define the components and renderers, then create and configure the `ril` instance.

```tsx title="lib/rilay.ts"
import { ril, type ComponentRenderProps, type FormRowRendererProps, type FormSubmitButtonRendererProps } from '@rilaykit/core';
import type React from 'react';

// Define a simple field component
const TextInput: React.FC<ComponentRenderProps<{ label: string }>> = ({
  id, value, onChange, onBlur, props, error,
}) => (
  <div>
    <label htmlFor={id}>{props.label}</label>
    <input
      id={id}
      type="text"
      value={value || ''}
      onChange={(e) => onChange(e.target.value)}
      onBlur={onBlur}
    />
    {error && <p style={{ color: 'red' }}>{error[0].message}</p>}
  </div>
);

// Define layout renderers
const AppRowRenderer: React.FC<FormRowRendererProps> = ({ children }) => (
  <div style={{ display: 'flex', gap: '1rem', marginBottom: '1rem' }}>{children}</div>
);

const AppSubmitButtonRenderer: React.FC<FormSubmitButtonRendererProps> = (props) => (
  <button type="submit" disabled={!props.isValid || props.isSubmitting}>
    {props.isSubmitting ? 'Submitting...' : props.children || 'Submit'}
  </button>
);

// Create and export the configured ril instance
export const rilay = ril
  .create()
  .addComponent('text', { name: 'Text Input', renderer: TextInput })
  .addComponent('textarea', { name: 'Text Area', renderer: TextInput })
  .configure({
    rowRenderer: AppRowRenderer,
    submitButtonRenderer: AppSubmitButtonRenderer,
    bodyRenderer: ({ children }) => <>{children}</>,
  });
```
</Step>

<Step>
### 2. Build the Form Configuration

Now, use the `rilay` instance you created to build a form. You call `.form()` on your instance, which gives you a form builder that is aware of all your registered components and renderers.

```tsx title="components/ContactForm.ts"
import { z } from 'zod';
import { createZodValidator } from '@rilaykit/core';
import { rilay } from '@/lib/rilay'; // Import your configured instance

// Define a Zod schema for validation
const contactSchema = z.object({
  name: z.string().min(1, 'Name is required.'),
  email: z.string().email('Please enter a valid email.'),
  message: z.string().min(10, 'Message must be at least 10 characters.'),
});

// Build the form configuration from the rilay instance
export const contactForm = rilay
  .form('contact-us') // Pass a unique ID for the form
  .add({
    id: 'name',
    type: 'text',
    props: { label: 'Full Name' },
    validation: { validator: createZodValidator(contactSchema.shape.name) },
  })
  .add({
    id: 'email',
    type: 'text',
    props: { label: 'Email Address' },
    validation: {
      validator: createZodValidator(contactSchema.shape.email),
      mode: 'onBlur',
    },
  })
  .add({
    id: 'message',
    type: 'textarea',
    props: { label: 'Your Message' },
    validation: { validator: createZodValidator(contactSchema.shape.message) },
  });
```
</Step>

<Step>
### 3. Render the Form

Finally, use the `<Form>` component from `@rilaykit/forms` to render your form. You can pass the form builder instance directly to itâ€”it will be built automatically.

```tsx title="components/ContactForm.tsx"
import { Form, FormBody, FormSubmitButton } from '@rilaykit/forms';
import { contactForm } from './ContactForm';

export function ContactForm() {
  const handleSubmit = (data: { name: string; email: string; message: string }) => {
    alert(`Thank you, ${data.name}! Your message has been sent.`);
    console.log(data);
  };

  return (
    <Form
      formConfig={contactForm}
      onSubmit={handleSubmit}
      defaultValues={{ name: '', email: '', message: '' }}
    >
      <FormBody />
      <FormSubmitButton>Send Message</FormSubmitButton>
    </Form>
  );
}
```
</Step>

</Steps>

You now have a fully working, validated form! You can display the `<ContactForm />` component anywhere in your application. 